package no.mil.fnse.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import no.mil.fnse.core.model.GlobalConfiguration;
import no.mil.fnse.service.AutoconfigurationService;

@RestController
public class AutoconfigurationController {
	
	@Autowired
	AutoconfigurationService autoconf;

	/**
	 * To fetch the tunnel configuration.
	 * @return json
	 */
    @RequestMapping("/api/configuration/local/{remote-ip}/{local-ip}")
    public String getLocalConfig() {
        return "Here you go, I will send you the configuration!";
    }
    
    @RequestMapping("/api/configuration/global/{remoteIp}/{localIp}")
    public GlobalConfiguration getGlobalConfig(@PathVariable String remoteIp, @PathVariable String localIp) {
        return autoconf.getGlobalConfiguration(localIp, remoteIp);
    }
}
